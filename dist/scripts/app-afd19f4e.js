"use strict";angular.module("adminDemo",["ngTouch","ngSanitize","ui.router","ngMockE2E"]).config(["$stateProvider","$urlRouterProvider",function(e,t){e.state("item",{url:"/item",templateUrl:"app/item/item.html",controller:"ItemCtrl"}),t.otherwise("/item")}]).run(["$httpBackend",function(e){e.whenGET(/^app\//).passThrough(),e.whenGET(/^assets\//).passThrough(),e.whenGET(/^components\//).passThrough();var t=[{id:"1",name:"石鹸",price:230,memo:"石鹸のメモ"},{id:"2",name:"ボディソープ",price:550,memo:"ボディソープのメモ"},{id:"3",name:"ハンドソープ",price:340,memo:"ハンドソープのメモ"}];e.whenGET(/^\/api\/items/).respond(t),e.whenPOST(/^\/api\/items/).respond(function(e,t,n){var i=angular.fromJson(n),m={id:"dummy",name:i.name,price:i.price,memo:i.memo};return[200,m,{}]}),e.whenPUT(/^\/api\/items/).respond({}),e.whenDELETE(/^\/api\/items/).respond({})}]),angular.module("adminDemo").controller("ItemCtrl",["$scope","$http",function(e,t){t.get("/api/items").success(function(t){e.items=t}),e.add=function(){t.post("/api/items",{name:e.newName,price:e.newPrice,memo:e.newMemo}).success(function(t){e.items.push(t)}),e.newName="",e.newPrice="",e.newMemo=""},e.update=function(n){t.put("/api/items/"+e.items[n].id,{name:e.items[n].name,price:e.items[n].price,memo:e.items[n].memo})},e["delete"]=function(n){t["delete"]("/api/items/"+e.items[n].id),e.items.splice(n,1)}}]),angular.module("adminDemo").run(["$templateCache",function(e){e.put("app/item/item.html",'<div class="container"><br><table class="table table-striped"><thead><tr><th>名前</th><th>価格</th><th>メモ</th><th></th></tr></thead><tbody><tr ng-repeat="item in items"><td><input ng-model="item.name"></td><td><input ng-model="item.price"></td><td><input ng-model="item.memo"></td><td align="center"><button type="button" class="btn btn-warning" ng-click="update($index)">更新</button> <button type="button" class="btn btn-danger" ng-click="delete($index)">削除</button></td></tr><tr><td><input ng-model="newName"></td><td><input ng-model="newPrice"></td><td><input ng-model="newMemo"></td><td align="center"><button type="button" class="btn btn-info" ng-click="add()" ng-disabled="!newName">追加</button></td></tr></tbody></table></div>')}]);